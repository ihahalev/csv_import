(this.webpackJsonpcsv_import=this.webpackJsonpcsv_import||[]).push([[0],{14:function(e,a,r){},16:function(e,a,r){},17:function(e,a,r){"use strict";r.r(a);var t=r(1),n=r.n(t),s=r(8),i=r.n(s),o=r(3),c=r(5),l=(r(14),r(0));var u=function(e){var a=e.headers,r=e.users,t=e.errors;return Object(l.jsxs)("table",{children:[Object(l.jsx)("thead",{children:Object(l.jsx)("tr",{children:a.map((function(e){return Object(l.jsx)("th",{children:e},e)}))})}),Object(l.jsx)("tbody",{children:r.map((function(e,r){return Object(l.jsx)("tr",{children:a.map((function(a){var n="";return t[r][a]&&(n="error"),Object(l.jsx)("td",{className:n,children:e[a]},e.id+a)}))},e.id)}))})]})},d=r(9),h=r(7);r(16);var f=function(){var e=Object(t.useState)([]),a=Object(c.a)(e,2),r=a[0],s=a[1],i=Object(t.useState)(!1),f=Object(c.a)(i,2),b=f[0],p=f[1],O=Object(t.useState)([]),j=Object(c.a)(O,2),m=j[0],v=j[1],N=Object(t.useState)([]),g=Object(c.a)(N,2),C=g[0],x=g[1],A=n.a.useRef(null);return Object(l.jsxs)("div",{className:"App",children:[Object(l.jsx)("button",{onClick:function(e){A.current.value="",A.current.click()},children:"Import users"}),Object(l.jsx)("input",{name:"file",type:"file",ref:A,onChange:function(e){var a=e.target.files[0];if(a){var r,t=new FileReader;t.onload=function(e){var a=(r=function(e){for(var a=e.split("\r"),r=[],t=["id"].concat(Object(o.a)(a[0].split(";")),["Duplicate with"]),n=1;n<a.length;n++){var s={},i=a[n].split(";");if("\n"===i[0])break;s[t[0]]=n;for(var c=0;c<i.length;c++)i[c]&&(s[t[c+1]]=i[c].trim());s[t[t.length-1]]=null,r.push(s)}return{headers:t,result:r}}(e.target.result)).result,t=a[0].hasOwnProperty("Full Name"),n=a[0].hasOwnProperty("Phone"),i=a[0].hasOwnProperty("Email");if(t&&n&&i){p(!1),console.log(a);var c=function(e){var a=e.result,r=e.headers,t=r[1],n=r[2],s=r[3],i=r[4],o=r[5],c=r[6],l=r[7],u=r[8],f=r[9],b=r[10],p=r[11],O=[],j=[];return a.forEach((function(e,a){var r={},m={};if(r.id=e.id,r[t]=e[t],m[t]=!1,m[n]=!0,e[n]&&(r[n]=e[n],e[n].includes("+1")&&12===e[n].length&&(m[n]=!1),"1"===e[n].charAt(0)&&11===e[n].length&&(m[n]=!1,r[n]="+"+e[n]),10===e[n].length&&(m[n]=!1,r[n]="+1"+e[n])),m[s]=!0,e[s]&&(r[s]=e[s],/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(e[s].toLowerCase())&&(m[s]=!1)),j.length>0){var v=j.findIndex((function(e){return e[n]===r[n]}));if(v>-1){var N=j[v],g=O[v];N[p]||(N[p]=a,r[p]=v,g[n]=!0,m[n]=!0)}if(!r[p]&&(v=j.findIndex((function(e){if(e[s]&&r[s]&&e[s].toLowerCase()===r[s].toLowerCase())return!0})))>-1){var C=j[v],x=O[v];C[p]||(C[p]=a,r[p]=v,x[s]=!0,m[s]=!0)}}var A=Number(e[i]);m[i]=!0,r[i]=A,Number.isInteger(A)&&A>=21&&(m[i]=!1);var I=Number(e[o]);m[o]=!0,r[o]=e[o],Number.isInteger(A)&&Number.isInteger(I)&&I>=0&&I<=r[i]&&(m[o]=!1),Number.isNaN(Number(e[c]))?(m[c]=!0,r[c]=e[c]):(m[c]=!1,r[c]=+Number(e[c]).toFixed(2)),e[l]?"TRUE"===e[l].toUpperCase()||"FALSE"===e[l].toUpperCase()?(r[l]=e[l].toUpperCase(),m[l]=!1):(r[l]=e[l],m[l]=!0):(r[l]="FALSE",m[l]=!1);var M,w=Object.keys(h),k=Object.values(h);if(e[u])if(e[u].includes(", ")&&(M=e[u].split(", ")),e[u].includes(" | ")&&(M=e[u].split(" | ")),M){var S,y=[],D=Object(d.a)(M);try{for(D.s();!(S=D.n()).done;){var T=S.value;if(2===T.length){if(!w.includes(T.toUpperCase())){m[u]=!0;break}y.push(T.toUpperCase()),m[u]=!1}else{if(!k.includes(T)){m[u]=!0;break}var L=k.indexOf(T);y.push(w[L]),m[u]=!1}}}catch(E){D.e(E)}finally{D.f()}m[u]?r[u]=M.join(" | "):r[u]=y.join(" | ")}else if(2===e[u].length)w.includes(e[u].toUpperCase())?m[u]=!1:m[u]=!0,r[u]=e[u].toUpperCase();else{k.includes(e[u])?m[u]=!1:m[u]=!0;var P=k.indexOf(e[u]);r[u]=w[P]}else m[u]=!0;m[f]=!0,r[f]=e[f];var U=new Date,F=new Date(e[f]);console.log("".concat(U),"".concat(e[f])),U.getTime()<=F.getTime()&&(4!==e[f].indexOf("-")&&2!==e[f].indexOf("/")||(m[f]=!1)),r[b]=e[b],m[b]=!0,e[b]&&/^[a-zA-Z0-9]{6}$/.test(e[b].toLowerCase())&&(m[b]=!1),j.push(r),O.push(m)})),console.log(j),console.log(O),{users:j,errors:O}}(r);s(Object(o.a)(c.users)),x(Object(o.a)(c.errors)),v(Object(o.a)(r.headers))}else p(!0)},t.readAsText(a)}}}),b?Object(l.jsx)("div",{className:"bad-format",children:"File format is not correct"}):Object(l.jsx)(u,{headers:m,users:r,errors:C})]})};i.a.render(Object(l.jsx)(f,{}),document.getElementById("root"))},7:function(e){e.exports=JSON.parse('{"AL":"Alabama","AK":"Alaska","AS":"American Samoa","AZ":"Arizona","AR":"Arkansas","CA":"California","CO":"Colorado","CT":"Connecticut","DE":"Delaware","DC":"District Of Columbia","FM":"Federated States Of Micronesia","FL":"Florida","GA":"Georgia","GU":"Guam","HI":"Hawaii","ID":"Idaho","IL":"Illinois","IN":"Indiana","IA":"Iowa","KS":"Kansas","KY":"Kentucky","LA":"Louisiana","ME":"Maine","MH":"Marshall Islands","MD":"Maryland","MA":"Massachusetts","MI":"Michigan","MN":"Minnesota","MS":"Mississippi","MO":"Missouri","MT":"Montana","NE":"Nebraska","NV":"Nevada","NH":"New Hampshire","NJ":"New Jersey","NM":"New Mexico","NY":"New York","NC":"North Carolina","ND":"North Dakota","MP":"Northern Mariana Islands","OH":"Ohio","OK":"Oklahoma","OR":"Oregon","PW":"Palau","PA":"Pennsylvania","PR":"Puerto Rico","RI":"Rhode Island","SC":"South Carolina","SD":"South Dakota","TN":"Tennessee","TX":"Texas","UT":"Utah","VT":"Vermont","VI":"Virgin Islands","VA":"Virginia","WA":"Washington","WV":"West Virginia","WI":"Wisconsin","WY":"Wyoming"}')}},[[17,1,2]]]);
//# sourceMappingURL=main.f771e56a.chunk.js.map